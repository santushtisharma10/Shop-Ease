{"ast":null,"code":"import { getDocument } from 'ssr-window';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && event.pointerType === 'mouse') return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  const pointerIndex = data.evCache.findIndex(cachedEv => cachedEv.pointerId === e.pointerId);\n  if (pointerIndex >= 0) data.evCache[pointerIndex] = e;\n  const targetTouch = data.evCache.length > 1 ? data.evCache[0] : e;\n  const pageX = targetTouch.pageX;\n  const pageY = targetTouch.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!e.target.matches(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        prevX: swiper.touches.currentX,\n        prevY: swiper.touches.currentY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (document.activeElement) {\n    if (e.target === document.activeElement && e.target.matches(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling || swiper.zoom && swiper.params.zoom && swiper.params.zoom.enabled && data.evCache.length > 1) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  let touchesDiff = swiper.isHorizontal() ? touches.currentX - touches.previousX : touches.currentY - touches.previousY;\n\n  if (params.oneWayMovement) {\n    diff = Math.abs(diff) * (rtl ? 1 : -1);\n    touchesDiff = Math.abs(touchesDiff) * (rtl ? 1 : -1);\n  }\n\n  touches.diff = diff;\n  diff *= params.touchRatio;\n\n  if (rtl) {\n    diff = -diff;\n    touchesDiff = -touchesDiff;\n  }\n\n  const prevTouchesDirection = swiper.touchesDirection;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  swiper.touchesDirection = touchesDiff > 0 ? 'prev' : 'next';\n  const isLoop = swiper.params.loop && !params.cssMode;\n\n  if (!data.isMoved) {\n    if (isLoop) {\n      swiper.loopFix({\n        direction: swiper.swipeDirection\n      });\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      const evt = new window.CustomEvent('transitionend', {\n        bubbles: true,\n        cancelable: true\n      });\n      swiper.wrapperEl.dispatchEvent(evt);\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  let loopFixed;\n\n  if (data.isMoved && prevTouchesDirection !== swiper.touchesDirection && isLoop && Math.abs(diff) >= 1) {\n    // need another loop fix\n    swiper.loopFix({\n      direction: swiper.swipeDirection,\n      setTranslate: true\n    });\n    loopFixed = true;\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0) {\n    if (isLoop && !loopFixed && data.currentTranslate > (params.centeredSlides ? swiper.minTranslate() - swiper.size / 2 : swiper.minTranslate())) {\n      swiper.loopFix({\n        direction: 'prev',\n        setTranslate: true,\n        activeSlideIndex: 0\n      });\n    }\n\n    if (data.currentTranslate > swiper.minTranslate()) {\n      disableParentSwiper = false;\n\n      if (params.resistance) {\n        data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n      }\n    }\n  } else if (diff < 0) {\n    if (isLoop && !loopFixed && data.currentTranslate < (params.centeredSlides ? swiper.maxTranslate() + swiper.size / 2 : swiper.maxTranslate())) {\n      swiper.loopFix({\n        direction: 'next',\n        setTranslate: true,\n        activeSlideIndex: swiper.slides.length - (params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(parseFloat(params.slidesPerView, 10)))\n      });\n    }\n\n    if (data.currentTranslate < swiper.maxTranslate()) {\n      disableParentSwiper = false;\n\n      if (params.resistance) {\n        data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n      }\n    }\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","map":{"version":3,"sources":["C:/Users/Santushti/Desktop/santushti/Shop-Ease/node_modules/swiper/core/events/onTouchMove.js"],"names":["getDocument","now","onTouchMove","event","document","swiper","data","touchEventsData","params","touches","rtlTranslate","rtl","enabled","simulateTouch","pointerType","e","originalEvent","isTouched","startMoving","isScrolling","emit","pointerIndex","evCache","findIndex","cachedEv","pointerId","targetTouch","length","pageX","pageY","preventedByNestedSwiper","startX","startY","allowTouchMove","target","matches","focusableElements","allowClick","Object","assign","prevX","currentX","prevY","currentY","touchStartTime","touchReleaseOnEdges","loop","isVertical","translate","maxTranslate","minTranslate","isMoved","activeElement","allowTouchCallbacks","targetTouches","diffX","diffY","threshold","Math","sqrt","touchAngle","isHorizontal","atan2","abs","PI","zoom","cssMode","cancelable","preventDefault","touchMoveStopPropagation","nested","stopPropagation","diff","touchesDiff","previousX","previousY","oneWayMovement","touchRatio","prevTouchesDirection","touchesDirection","swipeDirection","isLoop","loopFix","direction","startTranslate","getTranslate","setTransition","animating","evt","window","CustomEvent","bubbles","wrapperEl","dispatchEvent","allowMomentumBounce","grabCursor","allowSlideNext","allowSlidePrev","setGrabCursor","loopFixed","setTranslate","currentTranslate","disableParentSwiper","resistanceRatio","centeredSlides","size","activeSlideIndex","resistance","slides","slidesPerView","slidesPerViewDynamic","ceil","parseFloat","allowThresholdMove","followFinger","freeMode","watchSlidesProgress","updateActiveIndex","updateSlidesClasses","updateProgress"],"mappings":"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","sourcesContent":["import { getDocument } from 'ssr-window';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && event.pointerType === 'mouse') return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n    return;\n  }\n  const pointerIndex = data.evCache.findIndex(cachedEv => cachedEv.pointerId === e.pointerId);\n  if (pointerIndex >= 0) data.evCache[pointerIndex] = e;\n  const targetTouch = data.evCache.length > 1 ? data.evCache[0] : e;\n  const pageX = targetTouch.pageX;\n  const pageY = targetTouch.pageY;\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n  if (!swiper.allowTouchMove) {\n    if (!e.target.matches(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        prevX: swiper.touches.currentX,\n        prevY: swiper.touches.currentY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n    return;\n  }\n  if (params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n  if (document.activeElement) {\n    if (e.target === document.activeElement && e.target.matches(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n  if (data.isScrolling || swiper.zoom && swiper.params.zoom && swiper.params.zoom.enabled && data.evCache.length > 1) {\n    data.isTouched = false;\n    return;\n  }\n  if (!data.startMoving) {\n    return;\n  }\n  swiper.allowClick = false;\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  let touchesDiff = swiper.isHorizontal() ? touches.currentX - touches.previousX : touches.currentY - touches.previousY;\n  if (params.oneWayMovement) {\n    diff = Math.abs(diff) * (rtl ? 1 : -1);\n    touchesDiff = Math.abs(touchesDiff) * (rtl ? 1 : -1);\n  }\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) {\n    diff = -diff;\n    touchesDiff = -touchesDiff;\n  }\n  const prevTouchesDirection = swiper.touchesDirection;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  swiper.touchesDirection = touchesDiff > 0 ? 'prev' : 'next';\n  const isLoop = swiper.params.loop && !params.cssMode;\n  if (!data.isMoved) {\n    if (isLoop) {\n      swiper.loopFix({\n        direction: swiper.swipeDirection\n      });\n    }\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n    if (swiper.animating) {\n      const evt = new window.CustomEvent('transitionend', {\n        bubbles: true,\n        cancelable: true\n      });\n      swiper.wrapperEl.dispatchEvent(evt);\n    }\n    data.allowMomentumBounce = false;\n    // Grab Cursor\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n    swiper.emit('sliderFirstMove', e);\n  }\n  let loopFixed;\n  if (data.isMoved && prevTouchesDirection !== swiper.touchesDirection && isLoop && Math.abs(diff) >= 1) {\n    // need another loop fix\n    swiper.loopFix({\n      direction: swiper.swipeDirection,\n      setTranslate: true\n    });\n    loopFixed = true;\n  }\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n  if (diff > 0) {\n    if (isLoop && !loopFixed && data.currentTranslate > (params.centeredSlides ? swiper.minTranslate() - swiper.size / 2 : swiper.minTranslate())) {\n      swiper.loopFix({\n        direction: 'prev',\n        setTranslate: true,\n        activeSlideIndex: 0\n      });\n    }\n    if (data.currentTranslate > swiper.minTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) {\n        data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n      }\n    }\n  } else if (diff < 0) {\n    if (isLoop && !loopFixed && data.currentTranslate < (params.centeredSlides ? swiper.maxTranslate() + swiper.size / 2 : swiper.maxTranslate())) {\n      swiper.loopFix({\n        direction: 'next',\n        setTranslate: true,\n        activeSlideIndex: swiper.slides.length - (params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(parseFloat(params.slidesPerView, 10)))\n      });\n    }\n    if (data.currentTranslate < swiper.maxTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) {\n        data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n      }\n    }\n  }\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  }\n\n  // Directions locks\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  // Threshold\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n  if (!params.followFinger || params.cssMode) return;\n\n  // Update active index in free mode\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  }\n  // Update progress\n  swiper.updateProgress(data.currentTranslate);\n  // Update translate\n  swiper.setTranslate(data.currentTranslate);\n}"]},"metadata":{},"sourceType":"module"}